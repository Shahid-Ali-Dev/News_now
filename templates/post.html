{% extends "layout.html" %}
{% block content %}
<div class="row">
  <div class="col-lg-8">
    <article class="mb-4">
      <h2>{{ article.title }}</h2>
      <p class="text-muted small">{{ article.source or "Unknown source" }} • {{ article.publishedAt }} • {{ article.read_time }}</p>
      {% if article.image %}
        <img src="{{ article.image }}" class="img-fluid rounded mb-3" alt="">
      {% endif %}
      <div class="article-body">
        <p>{{ article.excerpt }}</p>
        <p>{{ article.content }}</p>
      </div>
      <div class="mt-3">
        <a class="btn btn-outline-primary me-2" href="{{ article.url }}" target="_blank" rel="noopener">Read on original source</a>
        <button id="favBtn" class="btn btn-outline-success">Save to favorites</button>
        <div class="btn-group ms-2" role="group">
          <a class="btn btn-outline-secondary" href="https://twitter.com/intent/tweet?text={{ article.title|urlencode }}%20{{ article.url|urlencode }}" target="_blank">Share</a>
          <a class="btn btn-outline-secondary" href="https://www.facebook.com/sharer/sharer.php?u={{ article.url|urlencode }}" target="_blank">Share</a>
        </div>
      </div>
    </article>
  </div>
  <div class="col-lg-4">
    <div class="sticky-top" style="top: 100px;">
      <div class="card p-3 mb-3">
        <h6 class="mb-2">Article metadata</h6>
        <p class="mb-1"><strong>Source:</strong> {{ article.source }}</p>
        <p class="mb-1"><strong>Published:</strong> {{ article.publishedAt }}</p>
        <p class="mb-1"><strong>Estimated read:</strong> {{ article.read_time }}</p>
      </div>
      <div class="card p-3">
        <h6>Related</h6>
        <p class="small">Try searching for more local updates or return to the <a href="{{ url_for('index') }}">homepage</a>.</p>
      </div>
    </div>
  </div>
</div>
{% endblock %}
